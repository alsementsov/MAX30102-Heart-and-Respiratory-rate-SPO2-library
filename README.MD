1) Описание содержимого:  
    SPO2_HR.py - алгоритм подсчета HR и SpO2 (входные данные - CSV файл с двумя столбцами - Red,IR)  
    Write_logs.py - скрипт захвата данных из COM-порта и записи в CSV-файл, каждая строка= Red \t IR  
    CPP_console - перевод алгоритма из python на с++ (консольное приложение, проверено...)  
    HR_RR_SPO2 - реализация алгоритма в железе (ESP32 + Max30102, на базе библиотек Arduino, проверено...)  
2) Комментарии:  
Max30102 сама по записанным в нее регистрам организует измерения с требуемой периодичностью и кладет это все в буфер (32 сэмпла = это измерени IR + измерение Red 17 битные ), который по прерыванию считывается mcu. В настройках сейчас стоит вывод прерывания при половинной заполнености фифо.  
Проц считывает данные по прерыванию. в используемом от Маxim коде(функции считывания - maxim_max30102_read_fifo) данные идут в принципе непрерывно без разрывов по времени(возможно нужно поковыряться, чтобы считывать их быстрее и отдыхать в перерывах).  
Минимальный fps включения пар светодиодов/фотодиодов у датчика = 50Гц. Но в буфер можно скидывать реже, так как есть возможность сделать average (2,4,8..), те fps = 25,12.5,6.26 Гц. Сейчас установлен регистр average=2, те 25Гц.  
В дальнейшем (не сейчас) можно будет провести анализ целостности данных при 12.5Гц.  
Далее идет фильтрация данных. Сейчас она встроена в цикл получения нового сэмпла, но она также переносится и на station и работает также только при разборе пакета и прохода по сэмполам. Фильтрация сделана сквозной между пакетами - иначе постоянную состовляющую сложно убрать корректно. После разбора пакета сохраняются отфильтрованные массивы, которые поступают в калькулятор MaxMin_search. Часть пакета потом сохраняется, так как фильтры имеют задержку...  
Пульс измеряется внутри пакета, те оперативно, поэтому на краях пакета иногда пропусаются биения(так как они попадают лишь кусками). Пока склейка пакетов не сделана (буду делать...) и присуствует иногда небольшие отклоенния в +-5 биений в реальных показаниях. Также из-за ограниченности пакета существует дискретность данных, зависящих от длины пакета. 
3) Результаты:  
Для расчета SpO2 применяется формула из кода Максим: out=(-45.060 *ratio *ratio) + (30.354 *ratio) + 94.845. Она отлично коррелирует с показаниями купленного пульсоксиметра Армед. HR также коррелирует, но имеет дискрестность.  
Сейчас размер обрабатываемого пакета равен 10 секунд (250 сэмплов), при этом шаг дискретности HR равен 6, те ...,60,66,72,78,.  
